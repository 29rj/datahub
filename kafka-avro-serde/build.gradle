apply plugin: 'java'

tasks.withType(JavaCompile).configureEach {
    javaCompiler = javaToolchains.compilerFor {
        languageVersion = JavaLanguageVersion.of(8)
    }
}
tasks.withType(Test).configureEach {
    javaLauncher = javaToolchains.launcherFor {
        languageVersion = JavaLanguageVersion.of(11)
    }
}

dependencies {
    compile project(':metadata-events:mxe-avro-1.7')

    compile externalDependency.avro_1_7
    constraints {
        implementation('commons-collections:commons-collections:3.2.2') {
            because 'Vulnerability Issue'
        }
    }
    compile externalDependency.kafkaClients

    // End of dependencies
    implementation externalDependency.slf4jApi
    compileOnly externalDependency.lombok

    testCompile externalDependency.assertJ
}
